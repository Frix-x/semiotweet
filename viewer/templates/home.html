{% extends "template.html" %}
{% block title %} | HomePage {% endblock %}

{% block content %}
<section id="part" class="two">
  <div class="container">
    <header>
      <h2 class="center alt">Semiotweet</h2>
      <h1 class="center alt">Tweets analysis from Politics</h1>
    </header>
  </div>
  <script src="/static/js/Chart.js"></script>
  <div style="width:400px; height:400px; margin:auto;"> <canvas id="doughnutSources"></canvas> </div>
  <script>
  var sources = {{sources|safe}};
  var num = {{num|safe}};
  var ctx = document.getElementById("doughnutSources");
  var colors = ["#FF6384","#36A2EB","#FFCE56","#FFBA49","#20A39E",
                "#EF5B5B","#23001E","#A4A9AD","#8CDFD6","#5A716A"];
  var data = {
    labels: sources,
    datasets: [
        {
            data: num,
            backgroundColor: colors,
            hoverBackgroundColor: colors
        }]
  };
  var options = {
      animation:{
          animateScale:true
      },
      title: {
          display: true,
          text: 'Tweet Sources'
      }
  };
  var myDoughnutChart = new Chart(ctx, {
      type: 'doughnut',
      data: data,
      options: options
  });
  </script>

  <div style="width:400px; height:400px; margin:auto;"> <canvas id="barCommonWords"></canvas> </div>
  <script>
  var words = {{words|safe}}
  var occurences = {{occurences|safe}}
  var colorsForBars = {{colorsForBars|safe}}
  var ctxBar = "barCommonWords";
  var dataBar = {
    labels: words,
    datasets: [
        {
            label: "Most Common Words",
            backgroundColor: colorsForBars,
            borderColor: colorsForBars,
            borderWidth: 1,
            data: occurences,
        }
    ]
  };
  var myBarChart = new Chart(ctxBar, {
    type: 'bar',
    data: dataBar,
    options: options
  });
  </script>

</section>
{% endblock %}
