{% extends "template.html" %} {% block title %} | @{{screen_name}} {% endblock %} {% block content %} {% if success %}
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <!--<h1 class="header center darken-1-text">User information</h1>-->
        <br><br>
    </div>
</div>
<div class="container">
    <div class="section">
        <div class="row">
            <div class="col s12 m8">
                <div class="icon-block">
                    <div class="card horizontal">
                        <div class="card-image">
                            {% if userInfo.profile_image_url_https %}
                            <img src="{{userInfo.profile_image_url_https}}"> {% endif %}
                        </div>
                        <div class="card-stacked">
                            <div class="card-content">
                                <h5>{{userInfo.name}}</h5>
                                <p>@{{screen_name}}
                                {% if userInfo.verified %}
                                <img src="/static/images/verified.png" height="25" width="25" alt="Verified"> {% endif %}
                                <br></p>
                                <p>{{userInfo.description}}</p>
                            </div>
                            <div class="card-action">
                                <p>{{userInfo.followers_count}} followers</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col s12 m4" id="TweetSources">
                <div class="icon-block">
                    <h5 class="center">Tweet sources</h5>
                    <canvas id="doughnutSources"></canvas>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="icon-block" id="Words">
                <canvas id="MostCommonWords"></canvas>
            </div>
        </div>
        <div class="row">
            <div class="icon-block" id="Distribution">
                <canvas id="HoursDistribution"></canvas>
            </div>
        </div>
    </div>
</div>
{% else %}
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <h1 class="header center orange-text">Error</h1>
        <div class="row center">
            <h5 class="header col s12 light">Internal server error...</h5>
        </div>
        <br><br>
    </div>
</div>
{% endif %}
{% endblock %}

{%block script%}


<script>
var words = {{words|safe}};
if (words.length == 0)
  $( "#Words").html("<div class='row center'><h3>No data yet. Click <a href='/getData/'>here</a> to update data</h3></div>");
else
    createBarChart("MostCommonWords",words, ['rgba(54, 162, 235, 1)'] * words.length, "Most common words");

var sources = {{sources|safe}};
var num = {{num|safe}};
if (sources.length == 0 && num.length == 0)
  $( "#TweetSources").html("<div class='row center'><h3>No data yet. Click <a href='/getData/'>here</a> to update data</h3></div>");
else
  createDonut("doughnutSources", sources, num);

var hours = {{hours|safe}};
if (hours.length != 0)
      createBarChartHours("HoursDistribution",hours,"Number of tweets",)
</script>
{% endblock %}
