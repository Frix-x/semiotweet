{% extends "template.html" %} {% load static %} {% block title %} | @{{screen_name}} {% endblock %} {% block content %} {% if success %}
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <h1 class="header center darken-1-text">Infos sur l'utilisateur</h1>
        <br><br>
    </div>
</div>
<div class="container">
    <div class="section">
        <div class="row">
            <div class="col s12 m8">
                <div class="icon-block">
                    <div class="card horizontal">
                        <div class="card-image">
                            {% if userInfo.profile_image_url_https %}
                            <img src="{{userInfo.profile_image_url_https}}"> {% endif %}
                        </div>
                        <div class="card-stacked">
                            <div class="card-content">
                                <h5>{{userInfo.name}}</h5>
                                <p>@{{screen_name}}
                                {% if userInfo.verified %}
                                <img src="/static/images/verified.png" height="25" width="25" alt="Verified"> {% endif %}
                                <br></p>
                                <p>{{userInfo.description}}</p>
                            </div>
                            <div class="card-action">
                                <p>{{userInfo.followers_count}} followers</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col s12 m4" id="TweetSources">
                <div class="icon-block">
                    <h5 class="center">Sources des tweets</h5>
                    <canvas id="doughnutSources"></canvas>
                </div>
            </div>
        </div>
        <br><br>
        <div class="row">
          <div class="col s12 m6">
            <div class="icon-block" id="Words">
                <h5 class="center">Mots les plus employés</h5>
                <canvas id="MostCommonWords"></canvas>
            </div>
          </div>
          <div class="col s12 m6">
            <div class="icon-block" id="Distribution">
                <h5 class="center">Lemmes les plus employés</h5>
                <canvas id="MostCommonLemmes"></canvas>
            </div>
          </div>
        </div>
        <br><br>
        <div class="row">
          <div class="col s12 m12">
            <div class="icon-block" id="Distribution">
                <h5 class="center">Distribution des tweets selon les heures</h5>
                <canvas id="HoursDistribution"></canvas>
            </div>
          </div>
        </div>
    </div>
</div>
{% else %}
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <h1 class="header center orange-text">Erreur</h1>
        <div class="row center">
            <h5 class="header col s12 light">Page indisponible.</h5>
        </div>
        <br><br>
    </div>
</div>
{% endif %}
{% endblock %}

{%block script%}
<script src="{% static "js/Chart.js" %}"></script>
<script src="{% static "js/utils.js" %}"></script>
<script>
$(document).ready(function () {
  createBarChart("MostCommonWords",{{words|safe}}, "Mots les plus communs");
  createDonut("doughnutSources", {{sources|safe}}, {{num|safe}});
  createBarChart("MostCommonLemmes",{{lemmes|safe}},"Lemmes occurences");
  createBarChartHours("HoursDistribution",{{hours|safe}},"Nombre de tweets postés");
});
</script>
{% endblock %}
